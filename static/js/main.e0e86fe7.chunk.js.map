{"version":3,"sources":["images/header_logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/AddPlacePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/ImagePopup.js","components/ConfirmPopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logoPath","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","type","aria-label","onClick","link","name","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","isLoading","avatar","about","style","color","map","Footer","PopupWithForm","title","button","isOpen","onClose","children","onSubmit","useState","isFormValid","setFormValid","formRef","useRef","useEffect","current","checkValidity","onKeypress","evt","key","document","addEventListener","removeEventListener","onMouseDown","target","classList","contains","ref","AddPlacePopup","nameRef","linkRef","error","setError","validity","setValidity","handleChange","e","prevValue","validationMessage","valid","value","preventDefault","id","placeholder","minLength","maxLength","required","onChange","EditProfilePopup","onUpdateUser","description","inputValue","setInputValue","handleInputChange","EditAvatarPopup","onUpdateAvatar","avatarRef","ImagePopup","ConfirmPopup","onConfirmDeletion","api","address","token","groupId","this","_address","_token","_groupId","fetch","headers","authorization","then","res","_checkResponseStatus","data","method","body","JSON","stringify","newCard","cardId","ok","json","Promise","reject","Error","status","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isConfirmPopupOpen","setConfirmPopupOpen","selectedCard","setSelectedCard","isImagePopupOpen","setImagePopupOpen","setCurrentUser","setCards","setIsLoading","closeAllPopups","all","getUserData","getCardsData","catch","err","console","log","finally","Provider","changeLikeCardStatus","newCards","c","userData","changeUserData","setCardData","changeAvatar","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e0e86fe7.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header_logo.c2821b38.svg\";","import logoPath from '../images/header_logo.svg'\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className=\"header\">\r\n            <img className=\"header__logo\" src={logoPath} alt=\"картинка: логотип\" />\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();","import { useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n    const currentUser = useContext(CurrentUserContext);\r\n    const isOwn = card.owner._id === currentUser._id;\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    function handleClick() {\r\n        onCardClick(card);\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        onCardLike(card)\r\n    }\r\n\r\n    function handleDelete() {\r\n        onCardDelete(card)\r\n    }\r\n\r\n    return (\r\n        <li className=\"card\">\r\n            <button className={`button card__trash ${isOwn && 'card__trash_active'}`} type=\"button\" aria-label=\"корзина\" onClick={handleDelete}></button>\r\n            <img className=\"card__image\" src={card.link} alt={card.name} onClick={handleClick} />\r\n            <div className=\"card__info\">\r\n                <h3 className=\"card__title\">{card.name}</h3>\r\n                <div className=\"card__like-container\">\r\n                    <button className={`button card__like ${isLiked && 'card__like_active'}`} type=\"button\" aria-label=\"сердечко\" onClick={handleLikeClick}></button>\r\n                    <p className=\"card__like-amount\">{!(card.likes.length === 0) && card.likes.length}</p>\r\n                </div>\r\n            </div>\r\n        </li >\r\n    )\r\n\r\n}\r\n\r\nexport default Card","import { useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport Card from './Card'\r\n\r\nfunction Main({ onEditProfile, onAddPlace, onEditAvatar, onCardClick, cards, isLoading, onCardLike, onCardDelete }) {\r\n\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main className=\"content\">\r\n\r\n            <section className=\"profile\">\r\n                <div className=\"profile__image\">\r\n                    <div className=\"profile__overlay\">\r\n                        <button className=\"button button_type_avatar\" type=\"button\" aria-label=\"кнопка: редактировать\" onClick={onEditAvatar}></button>\r\n                    </div>\r\n                    <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"картинка: аватарка\" />\r\n                </div>\r\n                <div className=\"profile__info\">\r\n                    <div className=\"profile__container\">\r\n                        <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n                        <button className=\"button button_type_edit\" type=\"button\" aria-label=\"кнопка: редактировать\" onClick={onEditProfile}></button>\r\n                    </div>\r\n                    <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n                </div>\r\n                <button className=\"button button_type_add\" type=\"button\" aria-label=\"кнопка: добавить\" onClick={onAddPlace}></button>\r\n            </section>\r\n\r\n            <section className=\"elements\">\r\n                {isLoading\r\n                    ? (<p style={{ color: 'white' }}>loading...</p>)\r\n                    : (<ul className=\"elements__list\">\r\n                        {cards.map((card) => { return (<Card card={card} key={card._id} onCardClick={onCardClick} onCardLike={onCardLike} onCardDelete={onCardDelete} />) })}\r\n                    </ul>)}\r\n            </section>\r\n        </main >\r\n    )\r\n}\r\n\r\nexport default Main;","import React from 'react'\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer","import { useRef, useState, useEffect } from 'react'\r\n\r\nfunction PopupWithForm({ name, title, button, isOpen, onClose, children, onSubmit }) {\r\n    const [isFormValid, setFormValid] = useState(false)\r\n    const formRef = useRef();\r\n    // eslint-disable-next-line\r\n    useEffect(() => {\r\n        setFormValid(formRef.current.checkValidity())\r\n    })\r\n\r\n    function handleOverlayClose(evt) {\r\n        if (evt.target.classList.contains('popup')) { onClose() }\r\n    }\r\n    // eslint-disable-next-line\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            const onKeypress = (evt) => {\r\n                if (evt.key === 'Escape') {\r\n                    onClose()\r\n                }\r\n            }\r\n            document.addEventListener('keydown', onKeypress)\r\n            return () => {\r\n                document.removeEventListener('keydown', onKeypress)\r\n            }\r\n        }\r\n    }, [isOpen])\r\n\r\n    return (\r\n        <div className={`popup popup_type_${name} ${isOpen && 'popup_opened'}`} onMouseDown={handleOverlayClose}>\r\n            <div className={`popup__container popup__container_type_${name}`}>\r\n                <button className={`button popup__close popup__close_type${name}`} type=\"button\" aria-label=\"кнопка: закрыть\" onClick={onClose}></button>\r\n                <h2 className=\"popup__title\">{title}</h2>\r\n                <form className={`popup__form popup__form_type_${name}`} name={name} onSubmit={onSubmit} ref={formRef}>\r\n                    {children}\r\n                    <button className={`button popup__save popup__save_type_${name} ${!isFormValid && 'popup__save_invalid'}`} aria-label=\"кнопка: Сохранить\">{button}</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default PopupWithForm","import { useState, useEffect, useRef } from 'react';\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, isLoading }) {\r\n    const nameRef = useRef();\r\n    const linkRef = useRef();\r\n    const [error, setError] = useState({});\r\n    const [validity, setValidity] = useState({})\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onAddPlace({\r\n            name: nameRef.current.value,\r\n            link: linkRef.current.value\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            nameRef.current.value = '';\r\n            linkRef.current.value = ''\r\n            setError((prevValue) => {\r\n                return {\r\n                    ...prevValue,\r\n                    name: '',\r\n                    link: ''\r\n                }\r\n            })\r\n            setValidity((prevValue) => {\r\n                return {\r\n                    ...prevValue,\r\n                    name: true,\r\n                    link: true\r\n                }\r\n            })\r\n        }\r\n    }, [isOpen])\r\n\r\n    function handleChange(e) {\r\n        const name = e.target.name\r\n        setError((prevValue) => {\r\n            return {\r\n                ...prevValue,\r\n                [name]: e.target.validationMessage\r\n            }\r\n        })\r\n        setValidity((prevValue) => {\r\n            return {\r\n                ...prevValue,\r\n                [name]: e.target.validity.valid\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name='add' title='Новое место' button={isLoading ? 'Создание...' : 'Создать'} isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\r\n            <>\r\n                <div className=\"popup__input-container\">\r\n                    <input id=\"image-input\" className={`popup__input popup__input_type_image ${!validity.name && 'popup__input_state_invalid'} `} type=\"text\" name=\"name\"\r\n                        ref={nameRef} placeholder=\"Название\" minLength=\"2\" maxLength=\"30\" required onChange={handleChange} />\r\n                    <span id=\"image-input-error\" className=\"error\">{error.name}</span>\r\n                </div>\r\n                <div className=\"popup__input-container\">\r\n                    <input id=\"link-input\" className={`popup__input popup__input_type_link ${!validity.link && 'popup__input_state_invalid'} `} type=\"url\" name=\"link\" ref={linkRef}\r\n                        placeholder=\"Ссылка на картинку\" required onChange={handleChange} />\r\n                    <span id=\"link-input-error\" className=\"error\">{error.link}</span>\r\n                </div>\r\n            </>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup","import { useState, useContext, useEffect } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isLoading }) {\r\n    const currentUser = useContext(CurrentUserContext);\r\n    const [inputValue, setInputValue] = useState({\r\n        name: '',\r\n        description: ''\r\n    })\r\n    const [error, setError] = useState({});\r\n    const [validity, setValidity] = useState({});\r\n\r\n    // eslint-disable-next-line\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            setInputValue((prevValue) => {\r\n                return {\r\n                    ...prevValue,\r\n                    name: currentUser.name,\r\n                    description: currentUser.about\r\n                }\r\n            })\r\n            setError((prevValue) => {\r\n                return {\r\n                    ...prevValue,\r\n                    name: '',\r\n                    description: ''\r\n                }\r\n            })\r\n            setValidity((prevValue) => {\r\n                return {\r\n                    ...prevValue,\r\n                    name: true,\r\n                    description: true\r\n                }\r\n            })\r\n        }\r\n    }, [isOpen])\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateUser({\r\n            name: inputValue.name,\r\n            about: inputValue.description\r\n        });\r\n    }\r\n\r\n    function handleInputChange(e) {\r\n        const name = e.target.name;\r\n        setInputValue((prevValue) => {\r\n            return {\r\n                ...prevValue,\r\n                [name]: e.target.value\r\n            }\r\n        })\r\n        setError((prevValue) => {\r\n            return {\r\n                ...prevValue,\r\n                [name]: e.target.validationMessage\r\n            }\r\n        })\r\n        setValidity((prevValue) => {\r\n            return {\r\n                ...prevValue,\r\n                [name]: e.target.validity.valid\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <PopupWithForm name='edit' title='Редактировать профиль' button={isLoading ? 'Сохранение...' : 'Сохранить'} isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\r\n            <>\r\n                <div className=\"popup__input-container\">\r\n                    <input id=\"name-input\" className={`popup__input popup__input_type_name ${!validity.name && 'popup__input_state_invalid'} `} type=\"text\" maxLength=\"40\"\r\n                        minLength=\"2\" name=\"name\" value={inputValue.name} placeholder=\"Имя\" required onChange={handleInputChange} />\r\n                    <span id=\"name-input-error\" className=\"error\">{error.name}</span>\r\n                </div>\r\n                <div className=\"popup__input-container\">\r\n                    <input id=\"about-input\" className={`popup__input popup__input_type_about ${!validity.description && 'popup__input_state_invalid'} `} type=\"text\" maxLength=\"200\"\r\n                        minLength=\"2\" name=\"description\" value={inputValue.description} placeholder=\"О себе\" required onChange={handleInputChange} />\r\n                    <span id=\"about-input-error\" className=\"error\">{error.description}</span>\r\n                </div>\r\n            </>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup","import { useRef, useState, useEffect } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isLoading }) {\r\n    const avatarRef = useRef();\r\n    const [error, setError] = useState('');\r\n    const [validity, setValidity] = useState(true)\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateAvatar(avatarRef.current.value);\r\n        avatarRef.current.value = ''\r\n    }\r\n\r\n    function handleChange(e) {\r\n        setError(avatarRef.current.validationMessage);\r\n        setValidity(e.target.validity.valid)\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            avatarRef.current.value = '';\r\n            setError('');\r\n            setValidity(true)\r\n        }\r\n    }, [isOpen])\r\n\r\n    return (\r\n        <PopupWithForm name='avatar' title='Обновить аватар' button={isLoading ? 'Сохранение...' : 'Сохранить'} isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\r\n            <div className=\"popup__input-container\">\r\n                <input id=\"avatar-input\" className={`popup__input popup__input_type_avatar ${!validity && 'popup__input_state_invalid'} `} type=\"url\" name=\"avatar\"\r\n                    placeholder=\"Ссылка на картинку\" ref={avatarRef} required onChange={handleChange} />\r\n                <span id=\"avatar-input-error\" className=\"error\">{error}</span>\r\n            </div>\r\n        </PopupWithForm>\r\n    )\r\n\r\n}\r\n\r\nexport default EditAvatarPopup","import { useEffect } from 'react'\r\n\r\nfunction ImagePopup({ card, isOpen, onClose }) {\r\n\r\n    function handleOverlayClose(evt) {\r\n        if (evt.target.classList.contains('popup')) { onClose() }\r\n    }\r\n\r\n    // eslint-disable-next-line\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            const onKeypress = (evt) => {\r\n                if (evt.key === 'Escape') {\r\n                    onClose()\r\n                }\r\n            }\r\n            document.addEventListener('keydown', onKeypress)\r\n            return () => {\r\n                document.removeEventListener('keydown', onKeypress)\r\n            }\r\n        }\r\n    }, [isOpen])\r\n\r\n    return (\r\n        <div className={`popup popup_type_image ${isOpen && 'popup_opened'}`} onMouseDown={handleOverlayClose} >\r\n            <div className=\"popup__container popup__container_type_image\">\r\n                <button className=\"button popup__close popup__close_type_image\" type=\"button\"\r\n                    aria-label=\"кнопка: закрыть\" onClick={onClose}></button>\r\n                <img className=\"popup__image\" src={card.link} alt={card.name} />\r\n                <h3 className=\"popup__image-title\">{card.name}</h3>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImagePopup ","import PopupWithForm from './PopupWithForm';\r\n\r\nfunction ConfirmPopup({ isOpen, onClose, onConfirmDeletion }) {\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onConfirmDeletion();\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name='confirm' title='Вы уверены ?' button='Да' isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} />\r\n    )\r\n}\r\n\r\nexport default ConfirmPopup","class Api {\r\n    constructor({ address, token, groupId }) {\r\n        this._address = address;\r\n        this._token = token;\r\n        this._groupId = groupId;\r\n    }\r\n\r\n    getCardsData() {\r\n        return fetch(`${this._address}/${this._groupId}/cards`, {\r\n            headers: {\r\n                authorization: this._token\r\n            }\r\n        })\r\n            .then((res) => {\r\n                return this._checkResponseStatus(res)\r\n            })\r\n    }\r\n\r\n    getUserData() {\r\n        return fetch(`${this._address}/${this._groupId}/users/me`, {\r\n            headers: {\r\n                authorization: this._token\r\n            }\r\n        })\r\n            .then((res) => {\r\n                return this._checkResponseStatus(res)\r\n            })\r\n    }\r\n\r\n    changeUserData(data) {\r\n        return fetch(`${this._address}/${this._groupId}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n                authorization: this._token,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n        })\r\n            .then((res) => {\r\n                return this._checkResponseStatus(res)\r\n            })\r\n    }\r\n\r\n    changeAvatar(data) {\r\n        return fetch(`${this._address}/${this._groupId}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n                authorization: this._token,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                avatar: data,\r\n            })\r\n        })\r\n            .then((res) => {\r\n                return this._checkResponseStatus(res)\r\n            })\r\n    }\r\n\r\n    setCardData(newCard) {\r\n        return fetch(`${this._address}/${this._groupId}/cards`, {\r\n            method: 'POST',\r\n            headers: {\r\n                authorization: this._token,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                name: newCard.name,\r\n                link: newCard.link\r\n            })\r\n        })\r\n            .then((res) => {\r\n                return this._checkResponseStatus(res)\r\n            })\r\n    }\r\n\r\n    deleteCard(cardId) {\r\n        return fetch(`${this._address}/${this._groupId}/cards/${cardId}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                authorization: this._token\r\n            }\r\n        })\r\n            .then((res) => {\r\n                return this._checkResponseStatus(res)\r\n            })\r\n    }\r\n\r\n    changeLikeCardStatus(cardId, isLiked) {\r\n        if (!isLiked) {\r\n            return fetch(`${this._address}/${this._groupId}/cards/likes/${cardId}`, {\r\n                method: 'PUT',\r\n                headers: {\r\n                    authorization: this._token,\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    return this._checkResponseStatus(res)\r\n                })\r\n        } else {\r\n            return fetch(`${this._address}/${this._groupId}/cards/likes/${cardId}`, {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    authorization: this._token,\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    return this._checkResponseStatus(res)\r\n                })\r\n        }\r\n    }\r\n\r\n    _checkResponseStatus(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(new Error(`Ошибка: ${res.status}`))\r\n    }\r\n}\r\n\r\nconst config = {\r\n    address: 'https://mesto.nomoreparties.co/v1',\r\n    token: '94f8771a-5db3-4407-bf14-903dd1dba9af',\r\n    groupId: 'cohort-19'\r\n}\r\n\r\nconst api = new Api(config);\r\n\r\nexport default api\r\n\r\n","import Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport EditProfilePopup from './EditProfilePopup'\r\nimport EditAvatarPopup from './EditAvatarPopup'\r\nimport ImagePopup from './ImagePopup';\r\nimport ConfirmPopup from './ConfirmPopup';\r\nimport { useState, useEffect } from 'react';\r\nimport api from '../utils/api';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\r\n\r\nfunction App() {\r\n\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\r\n  const [isConfirmPopupOpen, setConfirmPopupOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState({});\r\n  const [isImagePopupOpen, setImagePopupOpen] = useState(false);\r\n  const [currentUser, setCurrentUser] = useState({\r\n    name: '',\r\n    about: '',\r\n    avatar: ''\r\n  });\r\n  const [cards, setCards] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    Promise.all([api.getUserData(), api.getCardsData()])\r\n      .then((data) => {\r\n        setCurrentUser(data[0]);\r\n        setCards(data[1])\r\n      })\r\n      .catch((err) => {\r\n        console.log(err)\r\n      })\r\n      .finally(() => {\r\n        setIsLoading(false)\r\n      })\r\n  }, [])\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    api.changeLikeCardStatus(card._id, isLiked)\r\n      .then((newCard) => {\r\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err)\r\n      })\r\n  }\r\n\r\n  function handleCardDelete() {\r\n    api.deleteCard(selectedCard._id)\r\n      .then(() => {\r\n        const newCards = cards.filter((c) => { return !(c._id === selectedCard._id) && c });\r\n        setCards(newCards)\r\n        closeAllPopups()\r\n      })\r\n      .catch((err) => {\r\n        console.log(err)\r\n      })\r\n  }\r\n\r\n\r\n  function handleEditProfileClick() {\r\n    setEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n    setImagePopupOpen(true)\r\n  }\r\n\r\n  function handleUpdateUser(userData) {\r\n    setIsLoading(true)\r\n    api.changeUserData(userData)\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err)\r\n      })\r\n      .finally(() => {\r\n        setIsLoading(false)\r\n      })\r\n  }\r\n\r\n  function handleUpdateAvatar(avatar) {\r\n    setIsLoading(true)\r\n    api.changeAvatar(avatar)\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n        closeAllPopups()\r\n      })\r\n      .catch((err) => {\r\n        console.log(err)\r\n      })\r\n      .finally(() => {\r\n        setIsLoading(false)\r\n      })\r\n  }\r\n\r\n  function handleAddPlaceSubmit(newCard) {\r\n    setIsLoading(true)\r\n    api.setCardData(newCard)\r\n      .then((data) => {\r\n        setCards([data, ...cards])\r\n        closeAllPopups()\r\n      })\r\n      .catch((err) => {\r\n        console.log(err)\r\n      })\r\n      .finally(() => {\r\n        setIsLoading(false)\r\n      })\r\n  }\r\n\r\n  function handleConfirmDeletion(card) {\r\n    setConfirmPopupOpen(true);\r\n    setSelectedCard(card)\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setEditProfilePopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setEditAvatarPopupOpen(false);\r\n    setSelectedCard({});\r\n    setImagePopupOpen(false);\r\n    setConfirmPopupOpen(false)\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"app\">\r\n        <Header />\r\n        <Main onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick}\r\n          onCardClick={handleCardClick} isLoading={isLoading} cards={cards} onCardLike={handleCardLike} onCardDelete={handleConfirmDeletion} />\r\n        <Footer />\r\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} isLoading={isLoading} />\r\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} isLoading={isLoading} />\r\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} isLoading={isLoading} />\r\n        <ConfirmPopup isOpen={isConfirmPopupOpen} onClose={closeAllPopups} onConfirmDeletion={handleCardDelete} />\r\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} isOpen={isImagePopupOpen} />\r\n      </div >\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}