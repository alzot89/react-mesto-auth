{"version":3,"sources":["images/header_logo.svg","components/Header.js","components/Register.js","components/Login.js","utils/auth.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/AddPlacePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/ImagePopup.js","images/OK.svg","images/NOK.svg","images/Spin.svg","components/InfoTooltip.js","components/ConfirmPopup.js","utils/api.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","email","onSignOut","buttonRef","useRef","menuRef","headerRef","className","ref","src","logoPath","alt","path","to","exact","onClick","current","classList","toggle","type","Register","onRegister","initialCredential","password","useState","credential","setCredential","validity","setValidity","error","setError","handleChange","e","name","target","prevValue","value","validationMessage","valid","onSubmit","preventDefault","id","placeholder","required","onChange","Login","onLogin","minLength","BASE_URL","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","aria-label","link","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","isLoading","avatar","about","style","color","map","Footer","PopupWithForm","title","button","isOpen","onClose","children","isFormValid","useEffect","onKeypress","evt","key","document","addEventListener","removeEventListener","onMouseDown","contains","AddPlacePopup","initialValue","inputValue","setInputValue","setFormValid","input","closest","checkValidity","maxLength","EditProfilePopup","onUpdateUser","description","handleInputChange","EditAvatarPopup","onUpdateAvatar","ImagePopup","InfoTooltip","registered","Spin","okImage","nokImage","ConfirmPopup","onConfirmDeletion","api","address","token","groupId","this","_address","_token","_groupId","fetch","headers","authorization","then","res","_checkResponseStatus","data","method","body","JSON","stringify","newCard","cardId","ok","json","Promise","reject","Error","status","ProtectedRoute","Component","component","props","loggedIn","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isInfoTooltipOpen","setInfoTooltipOpen","isConfirmPopupOpen","setConfirmPopupOpen","selectedCard","setSelectedCard","isImagePopupOpen","setImagePopupOpen","setCurrentUser","setCards","setIsLoading","setLoggedIn","setRegistered","setEmail","history","useHistory","closeAllPopups","localStorage","getItem","jwt","statusText","push","catch","err","console","log","all","getUserData","getCardsData","finally","Provider","removeItem","auth","setItem","changeLikeCardStatus","newCards","c","userData","changeUserData","setCardData","changeAvatar","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8da70701.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header_logo.c2821b38.svg\";","import logoPath from '../images/header_logo.svg';\r\nimport { Link, Route } from 'react-router-dom';\r\nimport { useRef } from 'react';\r\n\r\nfunction Header({ email, onSignOut }) {\r\n\r\n    const buttonRef = useRef();\r\n    const menuRef = useRef();\r\n    const headerRef = useRef();\r\n\r\n    function openMenu() {\r\n        buttonRef.current.classList.toggle('menu__button_open');\r\n        menuRef.current.classList.toggle('menu__list_open');\r\n        headerRef.current.classList.toggle('header_active');\r\n    }\r\n\r\n    return (\r\n        <header className=\"header\" ref={headerRef}>\r\n            <img className=\"header__logo\" src={logoPath} alt=\"картинка: логотип\" />\r\n            <Route path=\"/sign-in\">\r\n                <Link className=\"header__link\" to=\"/sign-up\">Регистрация</Link>\r\n            </Route>\r\n            <Route path=\"/sign-up\">\r\n                <Link className=\"header__link\" to=\"/sign-in\">Вход</Link>\r\n            </Route>\r\n            <Route exact path=\"/\">\r\n                <nav className=\"menu\">\r\n                    <button className=\"menu__button\" ref={buttonRef} onClick={openMenu}></button>\r\n                    <ul className=\"menu__list\" ref={menuRef}>\r\n                        <li>\r\n                            <p className=\"header__useremail\">{email}</p>\r\n                        </li>\r\n                        <li>\r\n                            <button className=\"header__logout\" type=\"button\" onClick={onSignOut}>Выйти</button>\r\n                        </li>\r\n                    </ul>\r\n                </nav>\r\n            </Route>\r\n        </header >\r\n    )\r\n}\r\n\r\nexport default Header;","import { Link } from 'react-router-dom';\r\nimport { useState } from 'react';\r\n\r\nfunction Register({ onRegister }) {\r\n\r\n    const initialCredential = { email: '', password: '' }\r\n    const [credential, setCredential] = useState(initialCredential);\r\n    const [validity, setValidity] = useState({ email: true, password: true });\r\n    const [error, setError] = useState(initialCredential);\r\n\r\n    function handleChange(e) {\r\n        const name = e.target.name;\r\n        setCredential((prevValue) => ({\r\n            ...prevValue,\r\n            [name]: e.target.value\r\n        }));\r\n        setError((prevValue) => ({\r\n            ...prevValue,\r\n            [name]: e.target.validationMessage\r\n        }));\r\n        setValidity((prevValue) => ({\r\n            ...prevValue,\r\n            [name]: e.target.validity.valid\r\n        }));\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onRegister(credential);\r\n        setCredential(initialCredential);\r\n        setError(initialCredential);\r\n        setValidity((prevValue) => ({\r\n            ...prevValue,\r\n            email: true,\r\n            password: true\r\n        }))\r\n    }\r\n\r\n    return (\r\n        <section className=\"register\">\r\n            <h2 className=\"register__title\">Регистрация</h2>\r\n            <form className=\"popup__form popup__form_type_login\" name=\"login\" onSubmit={handleSubmit} >\r\n                <div className=\"popup__input-container\">\r\n                    <input id=\"email-input\" className={`popup__input popup__input_type_email ${!validity.email && 'popup__input_state_invalid'} `} type=\"email\" name=\"email\" value={credential.email} placeholder=\"Email\" required onChange={handleChange} />\r\n                    <span id=\"email-input-error\" className=\"error\">{error.email}</span>\r\n                </div>\r\n                <div className=\"popup__input-container\">\r\n                    <input id=\"password-input\" className={`popup__input popup__input_type_password ${!validity.password && 'popup__input_state_invalid'} `} type=\"password\" name=\"password\" value={credential.password} placeholder=\"Пароль\" required onChange={handleChange} />\r\n                    <span id=\"password-input-error\" className=\"error\">{error.password}</span>\r\n                </div>\r\n                <button className=\"button popup__save popup__save_type_login\" >Зарегистрироваться</button>\r\n            </form>\r\n            <p className=\"register__enter\">Уже зарегистрированы? <Link className=\"register__link\" to=\"/react-mesto-auth/sign-in\">Войти</Link></p>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Register","import { useState } from 'react';\r\n\r\nfunction Login({ onLogin }) {\r\n\r\n    const initialCredential = { email: '', password: '' }\r\n    const [credential, setCredential] = useState(initialCredential);\r\n    const [validity, setValidity] = useState({ email: true, password: true });\r\n    const [error, setError] = useState(initialCredential);\r\n\r\n    function handleChange(e) {\r\n        const name = e.target.name;\r\n        setCredential((prevValue) => ({\r\n            ...prevValue,\r\n            [name]: e.target.value\r\n        }));\r\n        setError((prevValue) => ({\r\n            ...prevValue,\r\n            [name]: e.target.validationMessage\r\n        }));\r\n        setValidity((prevValue) => ({\r\n            ...prevValue,\r\n            [name]: e.target.validity.valid\r\n        }));\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onLogin(credential);\r\n        setCredential(initialCredential);\r\n        setError(initialCredential);\r\n        setValidity((prevValue) => ({\r\n            ...prevValue,\r\n            email: true,\r\n            password: true\r\n        }))\r\n    }\r\n\r\n    return (\r\n        <section className=\"login\">\r\n            <h2 className=\"login__title\">Вход</h2>\r\n            <form className=\"popup__form popup__form_type_login\" name=\"login\" onSubmit={handleSubmit} >\r\n                <div className=\"popup__input-container\">\r\n                    <input id=\"email-input\" className={`popup__input popup__input_type_email ${!validity.email && 'popup__input_state_invalid'} `} type=\"email\" name=\"email\" value={credential.email} placeholder=\"Email\" required onChange={handleChange} />\r\n                    <span id=\"email-input-error\" className=\"error\">{error.email}</span>\r\n                </div>\r\n                <div className=\"popup__input-container\">\r\n                    <input id=\"password-input\" className={`popup__input popup__input_type_password ${!validity.password && 'popup__input_state_invalid'} `} type=\"password\" minLength=\"2\" name=\"password\" value={credential.password} placeholder=\"Пароль\" required onChange={handleChange} />\r\n                    <span id=\"password-input-error\" className=\"error\">{error.password}</span>\r\n                </div>\r\n                <button className=\"button popup__save popup__save_type_login\" >Войти</button>\r\n            </form>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Login","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nexport const register = (credential) => {\r\n    return fetch(`${BASE_URL}/signup`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(credential)\r\n    })\r\n        .then((res) => {\r\n            if (res.status === 201) {\r\n                return res.json()\r\n            } else {\r\n                throw new Error(`Ошибка: ${res.status} ${res.statusText} `)\r\n            }\r\n        })\r\n        .then((res) => {\r\n            return res;\r\n        })\r\n}\r\n\r\nexport const authorize = (credential) => {\r\n    return fetch(`${BASE_URL}/signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(credential)\r\n    })\r\n        .then((res) => {\r\n            if (res.status === 200) {\r\n                return res.json()\r\n            } else {\r\n                throw new Error(`Ошибка: ${res.status} ${res.statusText} `)\r\n            }\r\n        })\r\n        .then((data) => {\r\n            if (data.token) {\r\n                localStorage.setItem('jwt', data.token);\r\n                return data;\r\n            }\r\n        })\r\n}\r\n\r\nexport const checkToken = (token) => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${token}`,\r\n        }\r\n    })\r\n        .then((res) => {\r\n            if (res.status === 200) {\r\n                return res.json()\r\n            } else {\r\n                throw new Error(`Ошибка: ${res.status} ${res.statusText}`)\r\n            }\r\n        })\r\n        .then(data => data)\r\n}","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();","import { useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n    const currentUser = useContext(CurrentUserContext);\r\n    const isOwn = card.owner._id === currentUser._id;\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    function handleClick() {\r\n        onCardClick(card);\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        onCardLike(card)\r\n    }\r\n\r\n    function handleDelete() {\r\n        onCardDelete(card)\r\n    }\r\n\r\n    return (\r\n        <li className=\"card\">\r\n            <button className={`button card__trash ${isOwn && 'card__trash_active'}`} type=\"button\" aria-label=\"корзина\" onClick={handleDelete}></button>\r\n            <img className=\"card__image\" src={card.link} alt={card.name} onClick={handleClick} />\r\n            <div className=\"card__info\">\r\n                <h3 className=\"card__title\">{card.name}</h3>\r\n                <div className=\"card__like-container\">\r\n                    <button className={`button card__like ${isLiked && 'card__like_active'}`} type=\"button\" aria-label=\"сердечко\" onClick={handleLikeClick}></button>\r\n                    <p className=\"card__like-amount\">{!(card.likes.length === 0) && card.likes.length}</p>\r\n                </div>\r\n            </div>\r\n        </li >\r\n    )\r\n\r\n}\r\n\r\nexport default Card","import { useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport Card from './Card'\r\n\r\nfunction Main({ onEditProfile, onAddPlace, onEditAvatar, onCardClick, cards, isLoading, onCardLike, onCardDelete }) {\r\n\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main className=\"content\">\r\n\r\n            <section className=\"profile\">\r\n                <div className=\"profile__image\">\r\n                    <div className=\"profile__overlay\">\r\n                        <button className=\"button button_type_avatar\" type=\"button\" aria-label=\"кнопка: редактировать\" onClick={onEditAvatar}></button>\r\n                    </div>\r\n                    <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"картинка: аватарка\" />\r\n                </div>\r\n                <div className=\"profile__info\">\r\n                    <div className=\"profile__container\">\r\n                        <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n                        <button className=\"button button_type_edit\" type=\"button\" aria-label=\"кнопка: редактировать\" onClick={onEditProfile}></button>\r\n                    </div>\r\n                    <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n                </div>\r\n                <button className=\"button button_type_add\" type=\"button\" aria-label=\"кнопка: добавить\" onClick={onAddPlace}></button>\r\n            </section>\r\n\r\n            <section className=\"elements\">\r\n                {isLoading\r\n                    ? (<p style={{ color: 'white' }}>loading...</p>)\r\n                    : (<ul className=\"elements__list\">\r\n                        {cards.map((card) => { return (<Card card={card} key={card._id} onCardClick={onCardClick} onCardLike={onCardLike} onCardDelete={onCardDelete} />) })}\r\n                    </ul>)}\r\n            </section>\r\n        </main >\r\n    )\r\n}\r\n\r\nexport default Main;","import React from 'react'\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer","import { useEffect } from 'react'\r\n\r\nfunction PopupWithForm({ name, title, button, isOpen, onClose, children, onSubmit, isFormValid }) {\r\n\r\n    function handleOverlayClose(evt) {\r\n        if (evt.target.classList.contains('popup')) { onClose() }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            const onKeypress = (evt) => {\r\n                if (evt.key === 'Escape') {\r\n                    onClose()\r\n                }\r\n            }\r\n            document.addEventListener('keydown', onKeypress)\r\n            return () => {\r\n                document.removeEventListener('keydown', onKeypress)\r\n            }\r\n        }\r\n    }, [isOpen, onClose])\r\n\r\n    return (\r\n        <div className={`popup popup_type_${name} ${isOpen && 'popup_opened'}`} onMouseDown={handleOverlayClose}>\r\n            <div className={`popup__container popup__container_type_${name}`}>\r\n                <button className={`button popup__close popup__close_type${name}`} type=\"button\" aria-label=\"кнопка: закрыть\" onClick={onClose}></button>\r\n                <h2 className=\"popup__title\">{title}</h2>\r\n                <form className={`popup__form popup__form_type_${name}`} name={name} onSubmit={onSubmit} >\r\n                    {children}\r\n                    <button className={`button popup__save popup__save_type_${name} ${!isFormValid && 'popup__save_invalid'}`} aria-label=\"кнопка: Сохранить\">{button}</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default PopupWithForm","import { useState, useEffect } from 'react';\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, isLoading }) {\r\n\r\n    const initialValue = {\r\n        name: '',\r\n        link: ''\r\n    }\r\n    const [inputValue, setInputValue] = useState(initialValue)\r\n    const [error, setError] = useState({});\r\n    const [validity, setValidity] = useState({});\r\n    const [isFormValid, setFormValid] = useState(false);\r\n\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onAddPlace({\r\n            name: inputValue.name,\r\n            link: inputValue.link\r\n        })\r\n    }\r\n\r\n    // eslint-disable-next-line\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            setInputValue(initialValue);\r\n            setError(initialValue)\r\n            setValidity({\r\n                name: true,\r\n                link: true\r\n            });\r\n            setFormValid(false);\r\n        }\r\n    }, [isOpen, onClose])\r\n\r\n    function handleChange(e) {\r\n        const input = e.target;\r\n        const name = e.target.name\r\n        setInputValue((prevValue) => ({\r\n            ...prevValue,\r\n            [name]: e.target.value\r\n        }))\r\n        setError((prevValue) => ({\r\n            ...prevValue,\r\n            [name]: e.target.validationMessage\r\n        }))\r\n        setValidity((prevValue) => ({\r\n            ...prevValue,\r\n            [name]: e.target.validity.valid\r\n        }))\r\n        setFormValid(input.closest('form').checkValidity())\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name='add' title='Новое место' button={isLoading ? 'Создание...' : 'Создать'} isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} isFormValid={isFormValid}>\r\n            <>\r\n                <div className=\"popup__input-container\">\r\n                    <input id=\"image-input\" className={`popup__input popup__input_type_image ${!validity.name && 'popup__input_state_invalid'} `} type=\"text\" name=\"name\"\r\n                        value={inputValue.name} placeholder=\"Название\" minLength=\"2\" maxLength=\"30\" required onChange={handleChange} />\r\n                    <span id=\"image-input-error\" className=\"error\">{error.name}</span>\r\n                </div>\r\n                <div className=\"popup__input-container\">\r\n                    <input id=\"link-input\" className={`popup__input popup__input_type_link ${!validity.link && 'popup__input_state_invalid'} `} type=\"url\" name=\"link\" value={inputValue.link}\r\n                        placeholder=\"Ссылка на картинку\" required onChange={handleChange} />\r\n                    <span id=\"link-input-error\" className=\"error\">{error.link}</span>\r\n                </div>\r\n            </>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup","import { useState, useContext, useEffect } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isLoading }) {\r\n    const initialValue = {\r\n        name: '',\r\n        description: ''\r\n    }\r\n    const currentUser = useContext(CurrentUserContext);\r\n    const [inputValue, setInputValue] = useState(initialValue)\r\n    const [error, setError] = useState({});\r\n    const [validity, setValidity] = useState({});\r\n    const [isFormValid, setFormValid] = useState(true);\r\n\r\n    // eslint-disable-next-line\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            setInputValue((prevValue) => ({\r\n                ...prevValue,\r\n                name: currentUser.name,\r\n                description: currentUser.about\r\n            }))\r\n            setError(initialValue)\r\n            setValidity({\r\n                name: true,\r\n                description: true\r\n            });\r\n            setFormValid(true)\r\n        }\r\n    }, [isOpen, onClose, currentUser])\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateUser({\r\n            name: inputValue.name,\r\n            about: inputValue.description\r\n        });\r\n    }\r\n\r\n    function handleInputChange(e) {\r\n        const input = e.target;\r\n        const name = e.target.name;\r\n        setInputValue((prevValue) => ({\r\n            ...prevValue,\r\n            [name]: e.target.value\r\n        }))\r\n        setError((prevValue) => ({\r\n            ...prevValue,\r\n            [name]: e.target.validationMessage\r\n        }))\r\n        setValidity((prevValue) => ({\r\n            ...prevValue,\r\n            [name]: e.target.validity.valid\r\n        }))\r\n        setFormValid(input.closest('form').checkValidity())\r\n    }\r\n\r\n\r\n    return (\r\n        <PopupWithForm name='edit' title='Редактировать профиль' button={isLoading ? 'Сохранение...' : 'Сохранить'} isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} isFormValid={isFormValid}>\r\n            <>\r\n                <div className=\"popup__input-container\">\r\n                    <input id=\"name-input\" className={`popup__input popup__input_type_name ${!validity.name && 'popup__input_state_invalid'} `} type=\"text\" maxLength=\"40\"\r\n                        minLength=\"2\" name=\"name\" value={inputValue.name} placeholder=\"Имя\" required onChange={handleInputChange} />\r\n                    <span id=\"name-input-error\" className=\"error\">{error.name}</span>\r\n                </div>\r\n                <div className=\"popup__input-container\">\r\n                    <input id=\"about-input\" className={`popup__input popup__input_type_about ${!validity.description && 'popup__input_state_invalid'} `} type=\"text\" maxLength=\"200\"\r\n                        minLength=\"2\" name=\"description\" value={inputValue.description} placeholder=\"О себе\" required onChange={handleInputChange} />\r\n                    <span id=\"about-input-error\" className=\"error\">{error.description}</span>\r\n                </div>\r\n            </>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup","import { useState, useEffect } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isLoading }) {\r\n    const [inputValue, setInputValue] = useState('');\r\n    const [error, setError] = useState('');\r\n    const [validity, setValidity] = useState(true);\r\n    const [isFormValid, setFormValid] = useState(false);\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateAvatar(inputValue);\r\n    }\r\n\r\n    function handleChange(e) {\r\n        const input = e.target;\r\n        setInputValue(input.value)\r\n        setError(input.validationMessage);\r\n        setValidity(input.validity.valid);\r\n        setFormValid(input.closest('form').checkValidity());\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            setInputValue('');\r\n            setError('');\r\n            setValidity(true);\r\n            setFormValid(false);\r\n        }\r\n    }, [isOpen, onClose])\r\n\r\n    return (\r\n        <PopupWithForm name='avatar' title='Обновить аватар' button={isLoading ? 'Сохранение...' : 'Сохранить'} isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} isFormValid={isFormValid}>\r\n            <div className=\"popup__input-container\">\r\n                <input id=\"avatar-input\" className={`popup__input popup__input_type_avatar ${!validity && 'popup__input_state_invalid'} `} type=\"url\" name=\"avatar\"\r\n                    placeholder=\"Ссылка на картинку\" value={inputValue} required onChange={handleChange} />\r\n                <span id=\"avatar-input-error\" className=\"error\">{error}</span>\r\n            </div>\r\n        </PopupWithForm>\r\n    )\r\n\r\n}\r\n\r\nexport default EditAvatarPopup","import { useEffect } from 'react'\r\n\r\nfunction ImagePopup({ card, isOpen, onClose }) {\r\n\r\n    function handleOverlayClose(evt) {\r\n        if (evt.target.classList.contains('popup')) { onClose() }\r\n    }\r\n\r\n    // eslint-disable-next-line\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            const onKeypress = (evt) => {\r\n                if (evt.key === 'Escape') {\r\n                    onClose()\r\n                }\r\n            }\r\n            document.addEventListener('keydown', onKeypress)\r\n            return () => {\r\n                document.removeEventListener('keydown', onKeypress)\r\n            }\r\n        }\r\n    }, [isOpen, onClose])\r\n\r\n    return (\r\n        <div className={`popup popup_type_image ${isOpen && 'popup_opened'}`} onMouseDown={handleOverlayClose} >\r\n            <div className=\"popup__container popup__container_type_image\">\r\n                <button className=\"button popup__close popup__close_type_image\" type=\"button\"\r\n                    aria-label=\"кнопка: закрыть\" onClick={onClose}></button>\r\n                <img className=\"popup__image\" src={card.link} alt={card.name} />\r\n                <h3 className=\"popup__image-title\">{card.name}</h3>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImagePopup","export default __webpack_public_path__ + \"static/media/OK.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/NOK.df8eddf6.svg\";","export default __webpack_public_path__ + \"static/media/Spin.be48c027.svg\";","\r\nimport { useEffect } from 'react';\r\nimport okImage from '../images/OK.svg';\r\nimport nokImage from '../images/NOK.svg';\r\nimport Spin from '../images/Spin.svg'\r\n\r\nfunction InfoTooltip({ isOpen, onClose, registered, isLoading }) {\r\n\r\n    function handleOverlayClose(evt) {\r\n        if (evt.target.classList.contains('popup')) { onClose() }\r\n    }\r\n    // eslint-disable-next-line\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            const onKeypress = (evt) => {\r\n                if (evt.key === 'Escape') {\r\n                    onClose()\r\n                }\r\n            }\r\n            document.addEventListener('keydown', onKeypress)\r\n            return () => {\r\n                document.removeEventListener('keydown', onKeypress)\r\n            }\r\n        }\r\n    }, [isOpen, onClose])\r\n\r\n    return (\r\n        <div className={`popup ${isOpen && 'popup_opened'}`} onMouseDown={handleOverlayClose}>\r\n            <div className=\"popup__container popup__container_type_indicator\">\r\n                {isLoading\r\n                    ? (<img src={Spin} alt=\"spin\" ></img>)\r\n                    : (\r\n                        <>\r\n                            <button className=\"button popup__close popup__close_type_indicator\" onClick={onClose}></button>\r\n                            <img className=\"popup__indicator\" src={registered ? okImage : nokImage} alt=\"индикатор\"></img>\r\n                            <h3 className=\"popup__message\">{registered ? 'Вы успешно зарегистировались!' : 'Что-то пошло не так! Попробуйте еще раз.'}</h3>\r\n\r\n                        </>\r\n                    )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default InfoTooltip","import PopupWithForm from './PopupWithForm';\r\n\r\nfunction ConfirmPopup({ isOpen, onClose, onConfirmDeletion }) {\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onConfirmDeletion();\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name='confirm' title='Вы уверены ?' button='Да' isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} />\r\n    )\r\n}\r\n\r\nexport default ConfirmPopup","class Api {\r\n    constructor({ address, token, groupId }) {\r\n        this._address = address;\r\n        this._token = token;\r\n        this._groupId = groupId;\r\n    }\r\n\r\n    getCardsData() {\r\n        return fetch(`${this._address}/${this._groupId}/cards`, {\r\n            headers: {\r\n                authorization: this._token\r\n            }\r\n        })\r\n            .then((res) => {\r\n                return this._checkResponseStatus(res)\r\n            })\r\n    }\r\n\r\n    getUserData() {\r\n        return fetch(`${this._address}/${this._groupId}/users/me`, {\r\n            headers: {\r\n                authorization: this._token\r\n            }\r\n        })\r\n            .then((res) => {\r\n                return this._checkResponseStatus(res)\r\n            })\r\n    }\r\n\r\n    changeUserData(data) {\r\n        return fetch(`${this._address}/${this._groupId}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n                authorization: this._token,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n        })\r\n            .then((res) => {\r\n                return this._checkResponseStatus(res)\r\n            })\r\n    }\r\n\r\n    changeAvatar(data) {\r\n        return fetch(`${this._address}/${this._groupId}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n                authorization: this._token,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                avatar: data,\r\n            })\r\n        })\r\n            .then((res) => {\r\n                return this._checkResponseStatus(res)\r\n            })\r\n    }\r\n\r\n    setCardData(newCard) {\r\n        return fetch(`${this._address}/${this._groupId}/cards`, {\r\n            method: 'POST',\r\n            headers: {\r\n                authorization: this._token,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(newCard)\r\n        })\r\n            .then((res) => {\r\n                return this._checkResponseStatus(res)\r\n            })\r\n    }\r\n\r\n    deleteCard(cardId) {\r\n        return fetch(`${this._address}/${this._groupId}/cards/${cardId}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                authorization: this._token\r\n            }\r\n        })\r\n            .then((res) => {\r\n                return this._checkResponseStatus(res)\r\n            })\r\n    }\r\n\r\n    changeLikeCardStatus(cardId, isLiked) {\r\n        if (!isLiked) {\r\n            return fetch(`${this._address}/${this._groupId}/cards/likes/${cardId}`, {\r\n                method: 'PUT',\r\n                headers: {\r\n                    authorization: this._token,\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    return this._checkResponseStatus(res)\r\n                })\r\n        } else {\r\n            return fetch(`${this._address}/${this._groupId}/cards/likes/${cardId}`, {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    authorization: this._token,\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    return this._checkResponseStatus(res)\r\n                })\r\n        }\r\n    }\r\n\r\n    _checkResponseStatus(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(new Error(`Ошибка: ${res.status}`))\r\n    }\r\n}\r\n\r\nconst config = {\r\n    address: 'https://mesto.nomoreparties.co/v1',\r\n    token: '94f8771a-5db3-4407-bf14-903dd1dba9af',\r\n    groupId: 'cohort-19'\r\n}\r\n\r\nconst api = new Api(config);\r\n\r\nexport default api\r\n\r\n","\r\nimport React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n    return (\r\n        <Route>\r\n            {() =>\r\n                props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\r\n            }\r\n        </Route>\r\n    );\r\n};\r\n\r\nexport default ProtectedRoute;","import Header from './Header';\r\nimport Register from './Register';\r\nimport Login from './Login';\r\nimport * as auth from '../utils/auth';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport EditProfilePopup from './EditProfilePopup'\r\nimport EditAvatarPopup from './EditAvatarPopup'\r\nimport ImagePopup from './ImagePopup';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport ConfirmPopup from './ConfirmPopup';\r\nimport { useState, useEffect } from 'react';\r\nimport api from '../utils/api';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport { Route, Switch, useHistory } from 'react-router-dom';\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\n\r\nfunction App() {\r\n\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\r\n  const [isInfoTooltipOpen, setInfoTooltipOpen] = useState(false);\r\n  const [isConfirmPopupOpen, setConfirmPopupOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState({});\r\n  const [isImagePopupOpen, setImagePopupOpen] = useState(false);\r\n  const [currentUser, setCurrentUser] = useState({\r\n    name: '',\r\n    about: '',\r\n    avatar: ''\r\n  });\r\n  const [cards, setCards] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [registered, setRegistered] = useState(false)\r\n  const [email, setEmail] = useState('');\r\n  const history = useHistory();\r\n\r\n  function handleRegister(credential) {\r\n    setIsLoading(true)\r\n    auth.register(credential)\r\n      .then((res) => {\r\n        if (res) {\r\n          setRegistered(true);\r\n          setInfoTooltipOpen(true);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setRegistered(false)\r\n        setInfoTooltipOpen(true);\r\n      })\r\n      .finally(() => setIsLoading(false))\r\n  }\r\n\r\n  function handleLogin(credential) {\r\n    if (!credential.email || !credential.password) {\r\n      return\r\n    }\r\n    auth.authorize(credential)\r\n      .then((data) => {\r\n        if (data.token) {\r\n          setEmail(credential.email);\r\n          setLoggedIn(true);\r\n        }\r\n      })\r\n      .then(() => { history.push('/') })\r\n      .catch((err) => {\r\n        console.log(err)\r\n      });\r\n  }\r\n\r\n  function handleLogout() {\r\n    localStorage.removeItem('jwt');\r\n    setLoggedIn(false);\r\n    history.push('/sign-in');\r\n    setEmail('');\r\n  }\r\n\r\n  function closeInfoTooltip() {\r\n    setInfoTooltipOpen(false);\r\n    if (registered === true) {\r\n      history.push('/sign-in');\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem('jwt')) {\r\n      const jwt = localStorage.getItem('jwt');\r\n\r\n      if (jwt) {\r\n        auth.checkToken(jwt)\r\n          .then((res) => {\r\n            if (res) {\r\n              setLoggedIn(true);\r\n              setEmail(res.data.email);\r\n            }\r\n          })\r\n          .then(() => { history.push('/') })\r\n          .catch((err) => { console.log(err) })\r\n      }\r\n    }\r\n  }, [history])\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    Promise.all([api.getUserData(), api.getCardsData()])\r\n      .then((data) => {\r\n        setCurrentUser(data[0]);\r\n        setCards(data[1])\r\n      })\r\n      .catch((err) => {\r\n        console.log(err)\r\n      })\r\n      .finally(() => {\r\n        setIsLoading(false)\r\n      })\r\n  }, [])\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    api.changeLikeCardStatus(card._id, isLiked)\r\n      .then((newCard) => {\r\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err)\r\n      })\r\n  }\r\n\r\n  function handleCardDelete() {\r\n    api.deleteCard(selectedCard._id)\r\n      .then(() => {\r\n        const newCards = cards.filter((c) => { return !(c._id === selectedCard._id) && c });\r\n        setCards(newCards)\r\n        closeAllPopups()\r\n      })\r\n      .catch((err) => {\r\n        console.log(err)\r\n      })\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n    setImagePopupOpen(true)\r\n  }\r\n\r\n  function handleUpdateUser(userData) {\r\n    setIsLoading(true)\r\n    api.changeUserData(userData)\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err)\r\n      })\r\n      .finally(() => {\r\n        setIsLoading(false)\r\n      })\r\n  }\r\n\r\n  function handleUpdateAvatar(avatar) {\r\n    setIsLoading(true)\r\n    api.changeAvatar(avatar)\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n        closeAllPopups()\r\n      })\r\n      .catch((err) => {\r\n        console.log(err)\r\n      })\r\n      .finally(() => {\r\n        setIsLoading(false)\r\n      })\r\n  }\r\n\r\n  function handleAddPlaceSubmit(newCard) {\r\n    setIsLoading(true)\r\n    api.setCardData(newCard)\r\n      .then((data) => {\r\n        setCards([data, ...cards])\r\n        closeAllPopups()\r\n      })\r\n      .catch((err) => {\r\n        console.log(err)\r\n      })\r\n      .finally(() => {\r\n        setIsLoading(false)\r\n      })\r\n  }\r\n\r\n  function handleConfirmDeletion(card) {\r\n    setConfirmPopupOpen(true);\r\n    setSelectedCard(card)\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setEditProfilePopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setEditAvatarPopupOpen(false);\r\n    setSelectedCard({});\r\n    setImagePopupOpen(false);\r\n    setConfirmPopupOpen(false);\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"app\">\r\n        <Header email={email} onSignOut={handleLogout} />\r\n        <Switch>\r\n          <Route path=\"/sign-up\">\r\n            <Register onRegister={handleRegister} />\r\n          </Route >\r\n          <Route path=\"/sign-in\">\r\n            <Login onLogin={handleLogin} history={history} />\r\n          </Route >\r\n          <ProtectedRoute\r\n            path=\"/\"\r\n            loggedIn={loggedIn}\r\n            component={Main}\r\n            onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick}\r\n            onCardClick={handleCardClick} isLoading={isLoading} cards={cards} onCardLike={handleCardLike} onCardDelete={handleConfirmDeletion}\r\n          />\r\n        </Switch>\r\n        <Footer />\r\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} isLoading={isLoading} />\r\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} isLoading={isLoading} />\r\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} isLoading={isLoading} />\r\n        <ConfirmPopup isOpen={isConfirmPopupOpen} onClose={closeAllPopups} onConfirmDeletion={handleCardDelete} />\r\n        <ImagePopup isOpen={isImagePopupOpen} onClose={closeAllPopups} card={selectedCard} />\r\n        <InfoTooltip isOpen={isInfoTooltipOpen} onClose={closeInfoTooltip} registered={registered} isLoading={isLoading} />\r\n      </div >\r\n    </CurrentUserContext.Provider >\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}